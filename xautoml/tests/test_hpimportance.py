import json

from fanova import visualizer

from xautoml.hp_importance import HPImportance


def test_overview():
    f, X = HPImportance.load_file('/home/marc/phd/code/dswizard/scripts/run/168746/runhistory.json')
    overview = HPImportance.calculate_fanova_overview(f, X)
    overview_js = json.dumps(overview)


def test_details():
    f, X = HPImportance.load_file('/home/marc/phd/code/dswizard/scripts/run/168746/runhistory.json')
    details = HPImportance.calculate_fanova_details(f, X)
    details_js = json.dumps(details)

    vis = visualizer.Visualizer(f, f.cs, '/tmp')

    discrete = HPImportance._get_plot_data(vis, 0)
    continuous = HPImportance._get_plot_data(vis, 6)

    disc_disc = HPImportance._get_pairwise_plot_data(vis, [0, 1])
    cont_cont = HPImportance._get_pairwise_plot_data(vis, [5, 6])
    disc_cont = HPImportance._get_pairwise_plot_data(vis, [0, 6])

    js = json.dumps(discrete)
    js2 = json.dumps(continuous)
    js3 = json.dumps(disc_cont)
    js4 = json.dumps(disc_disc)


def test_fanova():
    f, X = HPImportance.load_file('/home/marc/phd/code/dswizard/scripts/run/168746/runhistory.json')
    vis = visualizer.Visualizer(f, f.cs, '/tmp')

    vis.plot_marginal(0)
    vis.plot_marginal(6)

    mean, std = vis.generate_marginal(0)
    mean2, std2, grid2 = vis.generate_marginal(6)

    vis.plot_pairwise_marginal([0, 1], show=True)
    vis.plot_pairwise_marginal([5, 6], show=True)
    vis.plot_pairwise_marginal([0, 6], show=True)


def test_model():
    model = json.loads(
        '{"configspace":{"hyperparameters":[{"name":"1:1.1:add_indicator","type":"categorical","choices":[true,false],"default":false,"probabilities":null},{"name":"1:1.1:strategy","type":"categorical","choices":["mean","median","most_frequent"],"default":"mean","probabilities":null},{"name":"1:1.2:1.2.2:add_indicator","type":"categorical","choices":[true,false],"default":false,"probabilities":null},{"name":"1:1.2:1.2.2:strategy","type":"categorical","choices":["mean","median","most_frequent"],"default":"mean","probabilities":null},{"name":"2:criterion","type":"categorical","choices":["gini","entropy"],"default":"gini","probabilities":null},{"name":"2:max_depth_factor","type":"uniform_float","log":false,"lower":0,"upper":2,"default":1},{"name":"2:min_samples_leaf_factor","type":"uniform_float","log":false,"lower":1e-7,"upper":0.25,"default":0.0001},{"name":"2:min_samples_split_factor","type":"uniform_float","log":false,"lower":1e-7,"upper":0.25,"default":0.0001}],"conditions":[],"forbiddens":[],"python_module_version":"0.4.20","json_format_version":0.2},"configs":[{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.8260292988270521,"2:min_samples_leaf_factor":0.1012767049262248,"2:min_samples_split_factor":0.008378504333723056},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.9253231287002563,"2:min_samples_leaf_factor":0.23347019320307374,"2:min_samples_split_factor":0.23912592667190433},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.2510653734207153,"2:min_samples_leaf_factor":0.04637802714016885,"2:min_samples_split_factor":0.07054058935238124},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.4993066191673279,"2:min_samples_leaf_factor":0.16391920016281009,"2:min_samples_split_factor":0.17621973127908708},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.1689921617507935,"2:min_samples_leaf_factor":0.19512077380945683,"2:min_samples_split_factor":0.14859339180758596},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.08136443048715591,"2:min_samples_leaf_factor":0.07755435450456143,"2:min_samples_split_factor":0.09802990525093377},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":1.7204649448394775,"2:min_samples_leaf_factor":0.1396680319562912,"2:min_samples_split_factor":0.21145354263073207},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.5308719873428345,"2:min_samples_leaf_factor":0.007456876497268677,"2:min_samples_split_factor":0.03594388806860596},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.4526739120483398,"2:min_samples_leaf_factor":0.14502744105215074,"2:min_samples_split_factor":0.12125129932273924},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.2986632287502289,"2:min_samples_leaf_factor":0.027488085970447957,"2:min_samples_split_factor":0.12536810853426456},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":1.8781906366348267,"2:min_samples_leaf_factor":0.21512861454594134,"2:min_samples_split_factor":0.059108173462979495},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8721661567687988,"2:min_samples_leaf_factor":0.0829371286118269,"2:min_samples_split_factor":0.18829301977805496},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.5462623834609985,"2:min_samples_leaf_factor":0.05173743996131718,"2:min_samples_split_factor":0.2310401575110793},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.7041094303131104,"2:min_samples_leaf_factor":0.18395040591070055,"2:min_samples_split_factor":0.01646813405790627},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.0972392559051514,"2:min_samples_leaf_factor":0.12128454380006493,"2:min_samples_split_factor":0.16819133156591057},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.15411297976970673,"2:min_samples_leaf_factor":0.23885296731033923,"2:min_samples_split_factor":0.0785652339744389},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.0027744770050049,"2:min_samples_leaf_factor":0.02185698224857375,"2:min_samples_split_factor":0.20563787506278158},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.24662095308303833,"2:min_samples_leaf_factor":0.15505402607750296,"2:min_samples_split_factor":0.045759513714030385},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.5762733221054077,"2:min_samples_leaf_factor":0.09244169636704326,"2:min_samples_split_factor":0.14281143065277338},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.6721494197845459,"2:min_samples_leaf_factor":0.20904106049960255,"2:min_samples_split_factor":0.10786473476016521},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.970709204673767,"2:min_samples_leaf_factor":0.17782995011360644,"2:min_samples_split_factor":0.06462953203920424},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.7776980400085449,"2:min_samples_leaf_factor":0.061274909467288856,"2:min_samples_split_factor":0.1859400081574619},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.420701026916504,"2:min_samples_leaf_factor":0.24884665058493613,"2:min_samples_split_factor":0.00244779006848773},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.32867899537086487,"2:min_samples_leaf_factor":0.11568634369159043,"2:min_samples_split_factor":0.24881196069555284},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.6255052089691162,"2:min_samples_leaf_factor":0.2239636286930561,"2:min_samples_split_factor":0.16229123405240775},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.6238750219345093,"2:min_samples_leaf_factor":0.10736625386472047,"2:min_samples_split_factor":0.08828216554346383},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.1994999647140503,"2:min_samples_leaf_factor":0.16954848408110143,"2:min_samples_split_factor":0.22509848577447533},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.048907481133937836,"2:min_samples_leaf_factor":0.03635326005575508,"2:min_samples_split_factor":0.02615751525354907},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.344065546989441,"2:min_samples_leaf_factor":0.06755867447516323,"2:min_samples_split_factor":0.05329583257793486},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.40435701608657837,"2:min_samples_leaf_factor":0.2007209706727326,"2:min_samples_split_factor":0.19809766699736117},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.793576717376709,"2:min_samples_leaf_factor":0.013575516216068714,"2:min_samples_split_factor":0.11546600775973201},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.9558185338973999,"2:min_samples_leaf_factor":0.130132380391258,"2:min_samples_split_factor":0.1352139127443254},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.3028064966201782,"2:min_samples_leaf_factor":0.21390958083860875,"2:min_samples_split_factor":0.24233317681856156},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.4456160366535187,"2:min_samples_leaf_factor":0.08171379592120946,"2:min_samples_split_factor":0.004329865346254408},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.8699920177459717,"2:min_samples_leaf_factor":0.1443014567691803,"2:min_samples_split_factor":0.1802127193412006},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.8794032335281372,"2:min_samples_leaf_factor":0.02675018076329082,"2:min_samples_split_factor":0.06714103234685957},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.709733009338379,"2:min_samples_leaf_factor":0.12055856696767212,"2:min_samples_split_factor":0.10215270472686291},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.5396472215652466,"2:min_samples_leaf_factor":0.2381150621031821,"2:min_samples_split_factor":0.1453381897433877},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":1.1504284143447876,"2:min_samples_leaf_factor":0.05051839880340696,"2:min_samples_split_factor":0.03926547105408013},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.09797902405261993,"2:min_samples_leaf_factor":0.18272708067066074,"2:min_samples_split_factor":0.2075046917904198},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.8961875149471481,"2:min_samples_leaf_factor":0.021488306756014715,"2:min_samples_split_factor":0.24886905411179897},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.8964011164598306,"2:min_samples_leaf_factor":0.019447451500274285,"2:min_samples_split_factor":0.004295951114348894},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.8927333285257023,"2:min_samples_leaf_factor":0.020023101072745905,"2:min_samples_split_factor":0.1290684070302786},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.886076988424608,"2:min_samples_leaf_factor":0.019363800043236398,"2:min_samples_split_factor":0.10754947345653879},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.8823064465334252,"2:min_samples_leaf_factor":0.01944637117628972,"2:min_samples_split_factor":0.14619399544312278},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.5817928712319598,"2:min_samples_leaf_factor":0.19009604687599552,"2:min_samples_split_factor":0.1795128370626433},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8891163493777842,"2:min_samples_leaf_factor":0.02121451825272878,"2:min_samples_split_factor":0.01600648623790979},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.8794032335281372,"2:min_samples_leaf_factor":0.02055337151246455,"2:min_samples_split_factor":0.04033842998296119},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.8793329829624111,"2:min_samples_leaf_factor":0.020452652190849862,"2:min_samples_split_factor":0.1489958218892034},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.9019440464418887,"2:min_samples_leaf_factor":0.020407958240421808,"2:min_samples_split_factor":0.05349112058174419},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.5171279456048237,"2:min_samples_leaf_factor":0.0864703383068301,"2:min_samples_split_factor":0.22938705504881254},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.8825770254691778,"2:min_samples_leaf_factor":0.019257654871617614,"2:min_samples_split_factor":0.15439960497985666},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.8862127040720265,"2:min_samples_leaf_factor":0.019540110916073865,"2:min_samples_split_factor":0.18851281746634868},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.5921070034284337,"2:min_samples_leaf_factor":0.18539917683410773,"2:min_samples_split_factor":0.0003186120597714759},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.279564538970217,"2:min_samples_leaf_factor":0.0236244884444834,"2:min_samples_split_factor":0.17444459550025376},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.4214416059194064,"2:min_samples_leaf_factor":0.05860154477013651,"2:min_samples_split_factor":0.18649034990214022},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.8961875149471481,"2:min_samples_leaf_factor":0.021658455147186995,"2:min_samples_split_factor":0.24465659042914908},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8118652532075563,"2:min_samples_leaf_factor":0.019257654871617614,"2:min_samples_split_factor":0.18135987037839457},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.09073547971592077,"2:min_samples_leaf_factor":0.021684160996561147,"2:min_samples_split_factor":0.027515674099039034},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.47802507597697685,"2:min_samples_leaf_factor":0.14220175067931537,"2:min_samples_split_factor":0.17795262062797662},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8451697909923492,"2:min_samples_leaf_factor":0.019363800043236398,"2:min_samples_split_factor":0.09935147406084237},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.621424101510049,"2:min_samples_leaf_factor":0.020368675999850355,"2:min_samples_split_factor":0.13994641878665923},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.852504296590685,"2:min_samples_leaf_factor":0.020407958240421808,"2:min_samples_split_factor":0.11241779157373798},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.6934716082427743,"2:min_samples_leaf_factor":0.020452652190849862,"2:min_samples_split_factor":0.18444262790197358},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.15328607512508263,"2:min_samples_leaf_factor":0.021433838238417702,"2:min_samples_split_factor":0.09859643342694951},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.5121897087041298,"2:min_samples_leaf_factor":0.12414452086928288,"2:min_samples_split_factor":0.06456352729155007},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.5143368456553332,"2:min_samples_leaf_factor":0.021354588293379998,"2:min_samples_split_factor":0.22468453316306003},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.8310317445298967,"2:min_samples_leaf_factor":0.020023101072745905,"2:min_samples_split_factor":0.09556326971687175},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.7570592144739512,"2:min_samples_leaf_factor":0.06337742183088799,"2:min_samples_split_factor":0.02218265543042517},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.43220111022341157,"2:min_samples_leaf_factor":0.020015287854010362,"2:min_samples_split_factor":0.09681282811976658},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.3130096141479606,"2:min_samples_leaf_factor":0.021393836181692945,"2:min_samples_split_factor":0.22401861052798294},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.7372843379000136,"2:min_samples_leaf_factor":0.019189234167403403,"2:min_samples_split_factor":0.1781331857609606},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.16424306985022397,"2:min_samples_leaf_factor":0.01975133003279383,"2:min_samples_split_factor":0.1366523209535052},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.6477089356023518,"2:min_samples_leaf_factor":0.0192252633923091,"2:min_samples_split_factor":0.10664822773424441},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.7502900680858327,"2:min_samples_leaf_factor":0.020533520896728413,"2:min_samples_split_factor":0.23318426598146427},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8390918310092834,"2:min_samples_leaf_factor":0.01963587970151332,"2:min_samples_split_factor":0.2071205358237507},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.7072097715638443,"2:min_samples_leaf_factor":0.019175477107550895,"2:min_samples_split_factor":0.13462173932852411},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.36087493283403194,"2:min_samples_leaf_factor":0.07565133029511893,"2:min_samples_split_factor":0.20223918288202725},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.9714331580664342,"2:min_samples_leaf_factor":0.13538955772135727,"2:min_samples_split_factor":0.2387512814169801},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.9247298012042955,"2:min_samples_leaf_factor":0.01956067103303496,"2:min_samples_split_factor":0.10025103269713484},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.16677174887847768,"2:min_samples_leaf_factor":0.23527759485159286,"2:min_samples_split_factor":0.19682401864983215},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.1604212199259598,"2:min_samples_leaf_factor":0.2101089976751666,"2:min_samples_split_factor":0.14513546783384498},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.03571324208333193,"2:min_samples_leaf_factor":0.02099140669598264,"2:min_samples_split_factor":0.11521152665756824},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.44194699114600766,"2:min_samples_leaf_factor":0.020315784030445906,"2:min_samples_split_factor":0.10410818794015338},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.561575990842535,"2:min_samples_leaf_factor":0.19363538275747638,"2:min_samples_split_factor":0.016896234780548143},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.6387710699071731,"2:min_samples_leaf_factor":0.2399745266101675,"2:min_samples_split_factor":0.14640732118745503},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.10018292142473584,"2:min_samples_leaf_factor":0.020353374677327028,"2:min_samples_split_factor":0.01951587294380687},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.4226644728380873,"2:min_samples_leaf_factor":0.020732149398281177,"2:min_samples_split_factor":0.1166990573414131},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.08574139987282026,"2:min_samples_leaf_factor":0.020091566296746344,"2:min_samples_split_factor":0.06619647365890181},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.2803585758096798,"2:min_samples_leaf_factor":0.020714351066026777,"2:min_samples_split_factor":0.08657509035137673},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":1.5186113061163893,"2:min_samples_leaf_factor":0.11668269430139422,"2:min_samples_split_factor":0.2495420181102006},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.3816694783133743,"2:min_samples_leaf_factor":0.02175376453463004,"2:min_samples_split_factor":0.24486897994518902},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.43469590484407883,"2:min_samples_leaf_factor":0.021329529156463953,"2:min_samples_split_factor":0.24690430908511446},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8216914997925004,"2:min_samples_leaf_factor":0.020532301038799664,"2:min_samples_split_factor":0.07856584360599018},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.7719156489300236,"2:min_samples_leaf_factor":0.01999977823055692,"2:min_samples_split_factor":0.22124625971280867},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.7918085226334732,"2:min_samples_leaf_factor":0.02140835765235115,"2:min_samples_split_factor":0.11682962389063355},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.7030974785826767,"2:min_samples_leaf_factor":0.020217433619276682,"2:min_samples_split_factor":0.1469431766830352},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.7539645035834435,"2:min_samples_leaf_factor":0.01957338727268466,"2:min_samples_split_factor":0.05523362618297146},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.48909307998725327,"2:min_samples_leaf_factor":0.021420882291704427,"2:min_samples_split_factor":0.031958195435089216},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.8461185847594892,"2:min_samples_leaf_factor":0.01935520482075107,"2:min_samples_split_factor":0.1483104930526299},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.5044703756348778,"2:min_samples_leaf_factor":0.02157684266410833,"2:min_samples_split_factor":0.18430857303948148},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.5831878753694091,"2:min_samples_leaf_factor":0.021476189998226234,"2:min_samples_split_factor":0.14782148357989072},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.47114809135562563,"2:min_samples_leaf_factor":0.021284167918434797,"2:min_samples_split_factor":0.07927142404802674},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.5730886620802442,"2:min_samples_leaf_factor":0.021401472944311876,"2:min_samples_split_factor":0.24507835694622268},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.1311807827845748,"2:min_samples_leaf_factor":0.021608374273631804,"2:min_samples_split_factor":0.23520598208132715},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.7986632882053875,"2:min_samples_leaf_factor":0.019563661840663982,"2:min_samples_split_factor":0.0740244697638337},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.9971386403689932,"2:min_samples_leaf_factor":0.21340040147551656,"2:min_samples_split_factor":0.21423191528945876},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.8389513771324781,"2:min_samples_leaf_factor":0.17296755154910803,"2:min_samples_split_factor":0.1857638603414433},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":0.9267299988698476,"2:min_samples_leaf_factor":0.02114625767202591,"2:min_samples_split_factor":0.22403759087693415},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.7444084771075146,"2:min_samples_leaf_factor":0.020262014925662986,"2:min_samples_split_factor":0.2353749646913095},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.37388446791717844,"2:min_samples_leaf_factor":0.019525743692172637,"2:min_samples_split_factor":0.15324639233001702},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"entropy","2:max_depth_factor":1.2553454932102994,"2:min_samples_leaf_factor":0.23826162413088878,"2:min_samples_split_factor":0.18896738679875089},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.6441149814941722,"2:min_samples_leaf_factor":0.0199045680906936,"2:min_samples_split_factor":0.2169884615694144},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.4488162423989539,"2:min_samples_leaf_factor":0.020197054339006485,"2:min_samples_split_factor":0.0015265644789619489},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.6321876152071275,"2:min_samples_leaf_factor":0.020663925774997566,"2:min_samples_split_factor":0.054097804419461784},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.885064413280737,"2:min_samples_leaf_factor":0.04969416930002594,"2:min_samples_split_factor":0.023863415048545684},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.43660983163919354,"2:min_samples_leaf_factor":0.02002053949243152,"2:min_samples_split_factor":0.22440803296190834},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.3234337513227665,"2:min_samples_leaf_factor":0.1768873934304898,"2:min_samples_split_factor":0.02027277459810347},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.3931583982320601,"2:min_samples_leaf_factor":0.02039438953252107,"2:min_samples_split_factor":0.16150569709980392},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.6116610073484402,"2:min_samples_leaf_factor":0.021354588293379998,"2:min_samples_split_factor":0.21787163981792726},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.319767611399858,"2:min_samples_leaf_factor":0.14332114444504906,"2:min_samples_split_factor":0.06785999154059312},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.19475144028376928,"2:min_samples_leaf_factor":0.021433838238417702,"2:min_samples_split_factor":0.0761948616682141},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.747882254767489,"2:min_samples_leaf_factor":0.020125746915773533,"2:min_samples_split_factor":0.20008256012619377},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.8508212866635372,"2:min_samples_leaf_factor":0.11406693531631876,"2:min_samples_split_factor":0.17582216569981976},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.03349800731503397,"2:min_samples_leaf_factor":0.020125360880019875,"2:min_samples_split_factor":0.03406969631413793},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.6304310191995074,"2:min_samples_leaf_factor":0.020368675999850355,"2:min_samples_split_factor":0.11244504594859354},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"entropy","2:max_depth_factor":0.483278006834875,"2:min_samples_leaf_factor":0.020281290197247767,"2:min_samples_split_factor":0.10870386579160826},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.9311439832431025,"2:min_samples_leaf_factor":0.08405251969136512,"2:min_samples_split_factor":0.03382371347059102},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.408385484031606,"2:min_samples_leaf_factor":0.021684160996561147,"2:min_samples_split_factor":0.006468830583931359},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":1.3732255000387406,"2:min_samples_leaf_factor":0.05591022533804251,"2:min_samples_split_factor":0.12284876500019036},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.06645675839151904,"2:min_samples_leaf_factor":0.02076064472117021,"2:min_samples_split_factor":0.10696311756846778},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.7723226498075575,"2:min_samples_leaf_factor":0.12926074303869267,"2:min_samples_split_factor":0.20547497268721515},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.3051287209422706,"2:min_samples_leaf_factor":0.0035222290432879067,"2:min_samples_split_factor":0.095071023664186},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.9166717375404694,"2:min_samples_leaf_factor":0.059897539963418185,"2:min_samples_split_factor":0.19120571667832034},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.8147600076326302,"2:min_samples_leaf_factor":0.0030428165070448317,"2:min_samples_split_factor":0.08730254391106652},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.9511672990089208,"2:min_samples_leaf_factor":0.004573130168363478,"2:min_samples_split_factor":0.08235388643546232},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.9599700856526465,"2:min_samples_leaf_factor":0.005340608169580657,"2:min_samples_split_factor":0.08210498073522379},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.2030572908140744,"2:min_samples_leaf_factor":0.001652682864869896,"2:min_samples_split_factor":0.08756197289787229},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.3463415484637749,"2:min_samples_leaf_factor":0.00008752002373444079,"2:min_samples_split_factor":0.09095913614954136},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.5901845110279673,"2:min_samples_leaf_factor":0.006854554335277147,"2:min_samples_split_factor":0.09151797282247859},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.9007652918100564,"2:min_samples_leaf_factor":0.007737727364222957,"2:min_samples_split_factor":0.09076853967446774},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.093391945974736,"2:min_samples_leaf_factor":0.005314448026928534,"2:min_samples_split_factor":0.07431692822445371},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.864013677193562,"2:min_samples_leaf_factor":0.006761341372509131,"2:min_samples_split_factor":0.07776882431427394},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.7317264902057237,"2:min_samples_leaf_factor":0.002891535696076567,"2:min_samples_split_factor":0.0886863806060246},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.9113228305135022,"2:min_samples_leaf_factor":0.0007560404187789408,"2:min_samples_split_factor":0.07448043110257788},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.4325849130278403,"2:min_samples_leaf_factor":0.0051275988474221235,"2:min_samples_split_factor":0.07468173200584408},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.2773643806599424,"2:min_samples_leaf_factor":0.1618518463336438,"2:min_samples_split_factor":0.0770508850996248},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.977780193249695,"2:min_samples_leaf_factor":0.003320068752481604,"2:min_samples_split_factor":0.08530662575108011},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.7329929934232524,"2:min_samples_leaf_factor":0.002084253756736926,"2:min_samples_split_factor":0.07615394832184455},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.454301405984087,"2:min_samples_leaf_factor":0.006244795962395738,"2:min_samples_split_factor":0.09257953245047545},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.9582978213010364,"2:min_samples_leaf_factor":0.005452890776770388,"2:min_samples_split_factor":0.08300523001629793},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.7662480889909329,"2:min_samples_leaf_factor":0.003091430198198303,"2:min_samples_split_factor":0.09522581683488388},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":0.9989077249178827,"2:min_samples_leaf_factor":0.004488955504087579,"2:min_samples_split_factor":0.08399831744451497},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.3633037480915562,"2:min_samples_leaf_factor":0.005122614888283695,"2:min_samples_split_factor":0.09041135530463203},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.9879428432184089,"2:min_samples_leaf_factor":0.00549353191310614,"2:min_samples_split_factor":0.08233019221519658},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.5368932015659098,"2:min_samples_leaf_factor":0.004530962951833631,"2:min_samples_split_factor":0.0835628159909928},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.1754706499238505,"2:min_samples_leaf_factor":0.007590045366680268,"2:min_samples_split_factor":0.085006863969083},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"entropy","2:max_depth_factor":0.2176884508301935,"2:min_samples_leaf_factor":0.16133976573074907,"2:min_samples_split_factor":0.0815100445164947},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.6514858544826834,"2:min_samples_leaf_factor":0.0003968575330628302,"2:min_samples_split_factor":0.09463267770819334},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.4141037163330195,"2:min_samples_leaf_factor":0.00489960766303873,"2:min_samples_split_factor":0.08113657671617441},{"1:1.1:add_indicator":true,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.0883722392336297,"2:min_samples_leaf_factor":0.0033135485450800505,"2:min_samples_split_factor":0.08881009377409167},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":1.0745843650158808,"2:min_samples_leaf_factor":0.003554442882797519,"2:min_samples_split_factor":0.08288575341921721},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.957467075813798,"2:min_samples_leaf_factor":0.003146422378080836,"2:min_samples_split_factor":0.09527630284943135},{"1:1.1:add_indicator":false,"1:1.1:strategy":"mean","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"median","2:criterion":"gini","2:max_depth_factor":1.4870129279459032,"2:min_samples_leaf_factor":0.007881244416122007,"2:min_samples_split_factor":0.07593395540279949},{"1:1.1:add_indicator":false,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.8339385520303757,"2:min_samples_leaf_factor":0.007059716475896799,"2:min_samples_split_factor":0.08359256823470722},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.1115094560652856,"2:min_samples_leaf_factor":0.0022641900104561916,"2:min_samples_split_factor":0.08342894578110928},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.1939971684502233,"2:min_samples_leaf_factor":0.006761341372509131,"2:min_samples_split_factor":0.083888433734581},{"1:1.1:add_indicator":false,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"most_frequent","2:criterion":"gini","2:max_depth_factor":0.415165750327422,"2:min_samples_leaf_factor":0.0035674531347018364,"2:min_samples_split_factor":0.09545761404276622},{"1:1.1:add_indicator":true,"1:1.1:strategy":"most_frequent","1:1.2:1.2.2:add_indicator":true,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":0.9389252522405664,"2:min_samples_leaf_factor":0.12156193903249987,"2:min_samples_split_factor":0.0634271902205441},{"1:1.1:add_indicator":true,"1:1.1:strategy":"median","1:1.2:1.2.2:add_indicator":false,"1:1.2:1.2.2:strategy":"mean","2:criterion":"gini","2:max_depth_factor":1.1580300154027636,"2:min_samples_leaf_factor":0.12154271714964791,"2:min_samples_split_factor":0.062426759589014065}],"loss":[0.9975055432372506,0.9815885334178017,0.9970304086157744,0.984835286664555,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.992477035159962,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.984835286664555,0.9975055432372506,0.9815885334178017,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.984835286664555,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9971491922711435,0.9815885334178017,0.9815885334178017,0.9975055432372506,0.9815885334178017,0.9982578397212544,0.9975055432372506,0.9815885334178017,0.9970304086157744,0.9815885334178017,0.9975055432372506,0.9799255622426355,0.9975055432372506,0.9971491922711435,0.9975055432372506,0.9815885334178017,0.9956050047513462,0.9859835286664554,0.9975055432372506,0.9956050047513462,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9971491922711435,0.9975055432372506,0.9971491922711435,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9982182451694646,0.9975055432372506,0.9982182451694646,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9971491922711435,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9971491922711435,0.9815885334178017,0.9815885334178017,0.9975055432372506,0.9971491922711435,0.9815885334178017,0.9815885334178017,0.9975055432372506,0.9971491922711435,0.9975055432372506,0.9982182451694647,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9982182451694647,0.9975055432372506,0.9971491922711435,0.9975055432372506,0.9956050047513462,0.9956050047513462,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9982182451694647,0.9975055432372506,0.9975055432372506,0.9982182451694647,0.9815885334178017,0.984835286664555,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9975055432372506,0.9857459613557173,0.9956050047513462,0.9970304086157744,0.9975055432372506,0.984835286664555,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9971491922711435,0.9975055432372506,0.9975055432372506,0.9975055432372506,0.9971491922711435,0.9971491922711435,0.9975055432372506,0.9956050047513462,0.9975055432372506,0.9975055432372506,0.9815885334178017,0.9916851441241685,0.9975055432372506,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.984835286664555,0.9924770351599619,0.9924770351599619,0.9916851441241685,0.9924770351599619,0.9916851441241685,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.984835286664555,0.9916851441241685,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9916851441241685,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9924770351599619,0.9916851441241685,0.9815885334178017,0.9975055432372506]}')
    f, X = HPImportance.load_model(model)

    overview = HPImportance.calculate_fanova_overview(f, X)
    overview_js = json.dumps(overview)


if __name__ == '__main__':
    test_overview()
    test_fanova()
